### كيفية بناء شبكة آمنة باستخدام Ubuntu Server وCacti

#### مقدمة
بناء شبكة آمنة هو أمر حيوي لكل مؤسسة تسعى لحماية بياناتها وضمان استمرارية أعمالها. في هذا المقال، سنشرح كيفية بناء شبكة آمنة باستخدام Ubuntu Server وأداة المراقبة Cacti، والتي تعتبر من الأدوات المفتوحة المصدر الفعالة في مراقبة أداء الشبكات.

#### 1. **تثبيت وإعداد Ubuntu Server**

**أ. تحميل Ubuntu Server:**
- قم بتحميل صورة Ubuntu Server من الموقع الرسمي [Ubuntu](https://ubuntu.com/download/server).

**ب. تثبيت Ubuntu Server:**
- قم بتهيئة وسائط التثبيت (USB أو قرص DVD) وتثبيت النظام على الجهاز المخصص ليكون الخادم.
- اتبع التعليمات على الشاشة لإكمال عملية التثبيت، وحدد "Minimal Installation" لتقليل عدد الحزم المثبتة وتسهيل الإدارة والأمان.

**ج. تحديث النظام:**
- بعد التثبيت، قم بتحديث النظام للتأكد من أنك تستخدم أحدث البرامج وحزم الأمان.
```sh
sudo apt update && sudo apt upgrade -y
```

#### 2. **إعداد أمان الشبكة**

**أ. إعداد جدار الحماية (UFW):**
- UFW هو أداة سهلة الاستخدام لإدارة جدار الحماية في Ubuntu. قم بتمكينه وإعداد القواعد الأساسية.
```sh
sudo ufw allow OpenSSH
sudo ufw enable
sudo ufw status
```

**ب. إعداد SSH:**
- تأكد من أن اتصال SSH آمن عن طريق تعطيل تسجيل الدخول باستخدام كلمة المرور وتفعيل استخدام مفاتيح SSH.
```sh
sudo nano /etc/ssh/sshd_config
# قم بتغيير الإعدادات التالية:
PasswordAuthentication no
PermitRootLogin no
```
- أعد تشغيل خدمة SSH لتطبيق التغييرات.
```sh
sudo systemctl restart ssh
```

#### 3. **تثبيت وإعداد Cacti**

**أ. تثبيت المتطلبات الأساسية:**
- Cacti يتطلب خادم ويب (Apache)، PHP، وقاعدة بيانات (MySQL/MariaDB).
```sh
sudo apt install apache2 php php-mysql mariadb-server snmp snmpd rrdtool
```

**ب. إعداد قاعدة البيانات:**
- قم بإعداد قاعدة بيانات جديدة لـ Cacti.
```sh
sudo mysql -u root -p
CREATE DATABASE cacti;
GRANT ALL PRIVILEGES ON cacti.* TO 'cactiuser'@'localhost' IDENTIFIED BY 'password';
FLUSH PRIVILEGES;
EXIT;
```

**ج. تثبيت Cacti:**
- قم بتنزيل وتثبيت Cacti.
```sh
sudo apt install cacti
```
- اتبع التعليمات على الشاشة لإكمال إعداد Cacti.

**د. إعداد SNMP:**
- تأكد من إعداد خدمة SNMP بشكل صحيح على الأجهزة التي ترغب في مراقبتها.
```sh
sudo nano /etc/snmp/snmpd.conf
# قم بتعديل الإعدادات حسب الحاجة
```
- أعد تشغيل خدمة SNMP.
```sh
sudo systemctl restart snmpd
```

#### 4. **مراقبة الشبكة باستخدام Cacti**

**أ. إضافة أجهزة للمراقبة:**
- قم بتسجيل الدخول إلى واجهة Cacti عبر المتصفح (http://your_server_ip/cacti).
- أضف الأجهزة التي ترغب في مراقبتها عن طريق إضافة أجهزة جديدة في قائمة Devices.

**ب. إنشاء الرسوم البيانية:**
- بعد إضافة الأجهزة، قم بإنشاء الرسوم البيانية لمراقبة الأداء مثل استخدام CPU، الذاكرة، وحركة المرور على الشبكة.

**ج. إعداد التنبيهات:**
- قم بإعداد التنبيهات في Cacti لإعلامك عند حدوث أي مشكلة أو تجاوز عتبات معينة.

### خاتمة
بناء شبكة آمنة باستخدام Ubuntu Server وCacti يتطلب تخطيطًا دقيقًا وإعدادات دقيقة لضمان الأمان والمراقبة الفعالة. من خلال اتباع الخطوات المذكورة أعلاه، يمكنك إنشاء بيئة شبكية آمنة وموثوقة تتيح لك مراقبة وتحليل الأداء بشكل مستمر. هذه الإعدادات الأساسية توفر أساسًا قويًا يمكن البناء عليه لتلبية احتياجات الأمان والمراقبة المتقدمة في شبكتك.
